# SRS v3 → MVP 태스크 추출 통합 작업 계획

**문서 ID**: PLAN-001  
**작성일**: 2025-01-27  
**버전**: 1.0  
**목적**: SRS v3 최종본을 기반으로 MVP 개발에 필요한 Epic/Story/Task를 체계적으로 추출하기 위한 작업 계획

---

## 1. 계획 개요

### 1.1 목표
- SRS v3의 기능 요구사항(FR) 및 비기능 요구사항(NFR)을 Epic → Story → Task로 분해
- 각 태스크의 의존성(Dependency) 명확화
- MVP 우선순위에 따른 태스크 우선순위 결정
- 개발 실행 가능한 수준의 상세 태스크 리스트 생성

### 1.2 작업 범위
- **In-Scope**: SRS v3의 MVP 범위에 포함된 모든 기능
- **Out-of-Scope**: Post-MVP 기능 (별도 문서로 관리)

### 1.3 기술 스택 전제
- **Frontend**: Vite + React 18+
- **Backend**: Node.js + Express.js (Vercel 서버리스 함수)
- **Database**: Firebase Firestore
- **Storage**: Firebase Storage
- **Authentication**: JWT 또는 Firebase Authentication
- **Deployment**: Vercel

---

## 2. SRS v3 구조 분석 결과

### 2.1 주요 기능 요구사항 (Functional Requirements)

| Feature | REQ ID 범위 | 핵심 기능 | 우선순위 |
|---------|------------|----------|---------|
| **F1: 리포트 생성** | REQ-FUNC-001 ~ 013 | 학생 검색, 리포트 생성, PDF 생성, 다운로드 | High |
| **F2: 데이터 통합** | REQ-FUNC-015, 016, 018, 019, 021 | 파일 업로드, 수동 입력, 검증, 통합 대시보드 | High |
| **F3: 리포트 전송** | REQ-FUNC-028, 041 | 수동 이메일 전송, 전송 이력 | High |
| **인증/권한** | REQ-FUNC-036, 037 | 로그인/로그아웃, 기본 접근 제어 | High |
| **시스템 설정** | REQ-FUNC-038 | 리포트 템플릿 기본 설정 | Medium |

### 2.2 주요 비기능 요구사항 (Non-Functional Requirements)

| 카테고리 | 주요 NFR | 영향 범위 |
|---------|---------|----------|
| **Performance** | 리포트 생성 30초 이내, API 응답 500ms 이내 | F1, 전체 API |
| **Reliability** | 리포트 생성 성공률 90% 이상, 데이터 정확도 99% 이상 | F1, F2 |
| **Security** | 인증 토큰 24시간, 개인정보 암호화 | 인증, 데이터 저장 |
| **Scalability** | 동시 사용자 20명, 학생 데이터 500명 | 전체 시스템 |
| **Constraints** | Vercel 함수 실행 시간 제한, 파일 크기 제한 | F1, F2 |

### 2.3 기술적 제약사항 및 고려사항

**⚠️ 복잡도 높은 요구사항:**
1. **리포트 PDF 생성** (REQ-FUNC-009)
   - Vercel 함수 실행 시간 제한 (Hobby: 10초, Pro: 60초)
   - 비동기 처리 또는 큐 시스템 필요

2. **파일 업로드 크기 제한** (REQ-NF-024)
   - Vercel 함수 페이로드 제한 (4.5MB)
   - 클라이언트 측 파싱 또는 청크 업로드 필요

3. **동시 리포트 생성 처리** (REQ-NF-004)
   - Vercel 동시 실행 제한
   - 큐 시스템 또는 순차 처리 필요

---

## 3. Epic 정의 전략

### 3.1 Epic 그룹핑 원칙

1. **기능 중심 그룹핑**: SRS의 주요 Feature(F1, F2, F3)를 Epic으로 매핑
2. **인프라/기반 Epic 분리**: 인증, 데이터베이스, 공통 인프라는 별도 Epic으로 분리
3. **의존성 고려**: 하위 레벨(인프라) → 상위 레벨(비즈니스 로직) 순서로 Epic 정의

### 3.2 Epic 목록 (예상)

| Epic ID | Epic Name | 설명 | SRS 매핑 | 우선순위 |
|---------|-----------|------|---------|---------|
| **E0** | 프로젝트 기반 설정 | 프로젝트 초기 설정, 개발 환경 구성 | - | P0 (최우선) |
| **E1** | 인증 및 권한 관리 | 사용자 로그인/로그아웃, JWT/Firebase Auth | REQ-FUNC-036, 037 | P0 |
| **E2** | 데이터베이스 및 스토리지 설정 | Firestore 컬렉션, 인덱스, Storage 설정 | 6.2 | P0 |
| **E3** | 학생 관리 | 학생 목록 조회, 검색, 상세 정보 | REQ-FUNC-001 | P0 |
| **E4** | 데이터 통합 (F2) | 파일 업로드, 수동 입력, 검증, 통합 | REQ-FUNC-015, 016, 018, 019 | P0 |
| **E5** | 리포트 생성 (F1) | 리포트 생성, PDF 생성, 다운로드 | REQ-FUNC-002 ~ 013 | P0 |
| **E6** | 리포트 전송 (F3) | 수동 이메일 전송, 전송 이력 | REQ-FUNC-028, 041 | P1 |
| **E7** | 통합 대시보드 | 데이터 통합 대시보드 표시 | REQ-FUNC-021 | P1 |
| **E8** | 리포트 템플릿 시스템 | 리포트 템플릿 기본 설정 | REQ-FUNC-038 | P1 |
| **E9** | 비기능 요구사항 (NFR) | 성능, 보안, 로깅, 모니터링 | REQ-NF-* | P2 |

### 3.3 Epic 간 의존성 관계

```
E0 (프로젝트 기반 설정)
  ↓
E1 (인증) + E2 (DB/Storage)
  ↓
E3 (학생 관리) ──┐
  ↓              │
E4 (데이터 통합) ─┼──→ E5 (리포트 생성)
  ↓              │         ↓
E7 (대시보드)    │    E6 (리포트 전송)
                │         ↑
E8 (템플릿) ─────┘
  ↓
E9 (NFR)
```

---

## 4. Story 분해 전략

### 4.1 Story 분해 원칙

1. **사용자 시나리오 기반**: 각 Epic 내에서 사용자가 수행하는 주요 액션을 Story로 분해
2. **API 엔드포인트 기준**: 하나의 Story는 1~2개의 주요 API 엔드포인트를 포함
3. **프론트엔드/백엔드 분리**: Story는 기능 단위로 정의하되, Task 단계에서 FE/BE 분리

### 4.2 Epic별 Story 분해 계획

#### E0: 프로젝트 기반 설정
- S0-1: 프로젝트 초기화 (Vite + React, Node.js + Express)
- S0-2: Vercel 배포 환경 설정
- S0-3: Firebase 프로젝트 설정 및 연동
- S0-4: 개발 환경 도구 설정 (ESLint, Prettier, TypeScript 등)

#### E1: 인증 및 권한 관리
- S1-1: 로그인 기능 (Firebase Auth 또는 JWT)
- S1-2: 로그아웃 기능
- S1-3: 인증 미들웨어 (API 보호)
- S1-4: 토큰 갱신 로직

#### E2: 데이터베이스 및 스토리지 설정
- S2-1: Firestore 컬렉션 스키마 정의 및 생성
- S2-2: Firestore 복합 인덱스 생성
- S2-3: Firebase Storage 버킷 설정
- S2-4: Firestore 보안 규칙 설정
- S2-5: 초기 Seed 데이터 삽입 (선택)

#### E3: 학생 관리
- S3-1: 학생 목록 조회 API
- S3-2: 학생 검색 API
- S3-3: 학생 상세 정보 조회 API
- S3-4: 학생 목록 UI
- S3-5: 학생 검색 UI

#### E4: 데이터 통합 (F2)
- S4-1: CSV/Excel 파일 업로드 API
- S4-2: 파일 파싱 및 검증 로직
- S4-3: 수동 데이터 입력 API
- S4-4: 데이터 검증 로직 (Joi/Zod)
- S4-5: 데이터 통합 로직 (Firestore 배치 쓰기)
- S4-6: 파일 업로드 UI
- S4-7: 수동 데이터 입력 UI
- S4-8: 데이터 검증 오류 표시 UI

#### E5: 리포트 생성 (F1)
- S5-1: 리포트 생성 요청 API
- S5-2: 학생 데이터 조회 로직 (출석, 학습시간, 성적, 과제)
- S5-3: 데이터 집계 및 분석 로직
- S5-4: 템플릿 기반 인사이트 생성 로직
- S5-5: 리포트 PDF 생성 로직 (puppeteer/pdfkit)
- S5-6: Firebase Storage 저장 로직
- S5-7: 리포트 생성 이력 저장
- S5-8: 리포트 다운로드 API
- S5-9: 리포트 생성 UI (검색 → 생성 → 다운로드)
- S5-10: 리포트 생성 진행 상태 표시 UI
- S5-11: 리포트 생성 이력 조회 UI

#### E6: 리포트 전송 (F3)
- S6-1: 리포트 이메일 전송 API (Resend/SendGrid)
- S6-2: 리포트 전송 이력 저장
- S6-3: 리포트 전송 이력 조회 API
- S6-4: 리포트 전송 UI (이메일 전송 버튼)
- S6-5: 리포트 전송 이력 조회 UI

#### E7: 통합 대시보드
- S7-1: 통합 대시보드 데이터 조회 API
- S7-2: 통합 대시보드 UI (테이블 형태)

#### E8: 리포트 템플릿 시스템
- S8-1: 리포트 템플릿 HTML/CSS 정의
- S8-2: 리포트 템플릿 렌더링 로직

#### E9: 비기능 요구사항 (NFR)
- S9-1: API 응답 시간 최적화 (Firestore 쿼리 최적화)
- S9-2: 리포트 생성 비동기 처리 (큐 시스템 또는 폴링)
- S9-3: 에러 로깅 설정 (Vercel 로그 또는 Firebase 로깅)
- S9-4: 보안 검증 (인증 토큰, 개인정보 암호화)
- S9-5: 성능 모니터링 설정

---

## 5. Task 분해 전략

### 5.1 Task 분해 원칙

1. **작은 단위**: "한 번에 코드 생성 가능"한 수준으로 분해
2. **타입별 분리**: API, DB, UI, Integration, Test, OPS 등 타입별로 명확히 구분
3. **의존성 명시**: 선행 태스크, 후행 태스크, 병렬 가능 태스크 명확화

### 5.2 Task 타입 분류

| Type | 설명 | 예시 |
|------|------|------|
| **db** | 데이터베이스 관련 작업 | Firestore 컬렉션 생성, 인덱스 생성, 스키마 정의 |
| **api** | 백엔드 API 엔드포인트 | Express 라우트, 컨트롤러, 서비스 로직 |
| **frontend** | 프론트엔드 UI 컴포넌트 | React 컴포넌트, 페이지, 상태 관리 |
| **integration** | 외부 서비스 연동 | Firebase Storage, 이메일 서비스, PDF 생성 |
| **test** | 테스트 코드 | Unit Test, Integration Test |
| **ops** | 운영/인프라 | 배포 설정, 로깅, 모니터링, 보안 설정 |

### 5.3 Task 분해 기준 (Story별)

#### 예시: S5-1 (리포트 생성 요청 API)

| Task ID | Task Name | Type | 설명 |
|---------|-----------|------|------|
| T-API-050 | 리포트 생성 요청 엔드포인트 생성 | api | POST /api/reports/generate 라우트 생성 |
| T-API-051 | 리포트 생성 요청 스키마 정의 | api | Request/Response 타입 정의 (Zod 스키마) |
| T-API-052 | 리포트 생성 요청 Validation | api | 입력 데이터 검증 로직 |
| T-API-053 | 리포트 생성 컨트롤러 구현 | api | Express 컨트롤러 로직 |
| T-API-054 | 리포트 생성 서비스 로직 구현 | api | 리포트 생성 비즈니스 로직 |
| T-API-055 | 리포트 생성 에러 핸들링 | api | 에러 처리 및 응답 포맷팅 |

#### 예시: S5-9 (리포트 생성 UI)

| Task ID | Task Name | Type | 설명 |
|---------|-----------|------|------|
| T-FE-090 | 리포트 생성 페이지 레이아웃 | frontend | React 페이지 컴포넌트 구조 |
| T-FE-091 | 학생 검색 UI 컴포넌트 | frontend | 검색 입력 필드, 검색 결과 리스트 |
| T-FE-092 | 리포트 생성 버튼 및 상태 관리 | frontend | 생성 버튼, 로딩 상태, 에러 상태 |
| T-FE-093 | 리포트 생성 API 연동 | frontend | API 호출 로직 (React Query 또는 SWR) |
| T-FE-094 | 리포트 다운로드 UI | frontend | 다운로드 버튼, 다운로드 링크 표시 |

### 5.4 복잡도 높은 Story의 Task 분해 전략

#### S5-5: 리포트 PDF 생성 로직

**문제점**: Vercel 함수 실행 시간 제한

**Task 분해 전략**:
1. **옵션 A (비동기 처리)**: 
   - T-INT-100: 리포트 생성 큐 시스템 설정 (Vercel Queue 또는 외부 큐)
   - T-INT-101: 리포트 생성 워커 함수 구현
   - T-INT-102: 리포트 생성 상태 조회 API
   - T-INT-103: 리포트 생성 상태 폴링 로직 (프론트엔드)

2. **옵션 B (클라이언트 측 생성)**:
   - T-INT-104: 클라이언트 측 PDF 생성 라이브러리 설정 (react-pdf, jsPDF)
   - T-INT-105: 리포트 데이터를 클라이언트로 전송하는 API
   - T-INT-106: 클라이언트 측 PDF 생성 로직

3. **옵션 C (외부 서비스)**:
   - T-INT-107: PDF 생성 외부 서비스 연동 (PDFShift, Browserless)
   - T-INT-108: 외부 서비스 API 래퍼 구현

**권장**: 옵션 A (비동기 처리) - SRS의 권장 구현 방식과 일치

---

## 6. 의존성 그래프 생성 전략

### 6.1 의존성 분류

1. **강한 의존성 (Hard Dependency)**: 반드시 선행되어야 함
   - 예: DB 스키마 → API → Frontend
   
2. **약한 의존성 (Soft Dependency)**: 병렬 작업 가능하지만 통합 시 필요
   - 예: 리포트 생성 API와 리포트 다운로드 API는 독립적이지만 통합 시 필요

3. **병렬 가능 (Parallel)**: 동시에 작업 가능
   - 예: 학생 목록 API와 학생 검색 API는 독립적

### 6.2 의존성 그래프 생성 단계

**Step 1**: Epic 간 의존성 정의 (3.3 참조)

**Step 2**: Story 간 의존성 정의
- 예: S5-1 (리포트 생성 요청 API) → S5-2 (학생 데이터 조회) → S5-3 (데이터 집계)

**Step 3**: Task 간 의존성 정의
- 예: T-DB-020 (Firestore 컬렉션 생성) → T-API-050 (리포트 생성 엔드포인트)

**Step 4**: 전체 의존성 그래프 시각화
- Mermaid 다이어그램 또는 텍스트 기반 그래프

### 6.3 의존성 그래프 예시 (부분)

```
[E2: DB/Storage 설정]
  T-DB-020: students 컬렉션 생성
  T-DB-021: attendance 컬렉션 생성
  T-DB-022: study_time 컬렉션 생성
  T-DB-023: mock_exam 컬렉션 생성
  T-DB-024: assignments 컬렉션 생성
  T-DB-025: reports 컬렉션 생성
  T-DB-026: Firestore 인덱스 생성
    ↓
[E3: 학생 관리]
  T-API-030: 학생 목록 조회 API (의존: T-DB-020)
  T-API-031: 학생 검색 API (의존: T-DB-020)
  T-FE-030: 학생 목록 UI (의존: T-API-030)
    ↓
[E5: 리포트 생성]
  T-API-050: 리포트 생성 요청 API (의존: T-DB-020~025)
  T-API-051: 학생 데이터 조회 로직 (의존: T-API-050, T-DB-021~024)
  T-INT-100: PDF 생성 로직 (의존: T-API-051)
  T-FE-090: 리포트 생성 UI (의존: T-API-050)
```

---

## 7. MVP 우선순위 조정 전략

### 7.1 우선순위 분류

| Priority | 설명 | 기준 |
|---------|------|------|
| **P0 (Must Have)** | MVP 출시에 반드시 필요 | 핵심 기능, 없으면 시스템이 동작하지 않음 |
| **P1 (Should Have)** | MVP 출시에 권장 | 핵심 기능은 아니지만 사용자 경험에 중요 |
| **P2 (Nice to Have)** | MVP 이후 추가 가능 | 개선 사항, 최적화 |

### 7.2 Epic별 우선순위 (재조정)

| Epic | 초기 우선순위 | MVP 조정 후 | 비고 |
|------|------------|-----------|------|
| E0 | P0 | P0 | 필수 |
| E1 | P0 | P0 | 필수 |
| E2 | P0 | P0 | 필수 |
| E3 | P0 | P0 | 필수 (리포트 생성 전제) |
| E4 | P0 | P0 | 필수 (데이터 없으면 리포트 생성 불가) |
| E5 | P0 | P0 | 필수 (핵심 기능) |
| E6 | P1 | P0 → P1 | 수동 전송은 필수, 이력 조회는 P1 |
| E7 | P1 | P1 | 대시보드는 선택 기능 |
| E8 | P1 | P0 | 리포트 생성에 필수 (기본 템플릿) |
| E9 | P2 | P1 → P2 | 일부는 P1 (성능, 보안), 일부는 P2 (모니터링) |

### 7.3 Story별 우선순위 조정 예시

**E5: 리포트 생성 (F1)**
- S5-1 ~ S5-8: P0 (핵심 기능)
- S5-9 ~ S5-11: P0 (사용자 인터페이스)
- **단, S5-5 (PDF 생성)는 비동기 처리로 단순화 가능**: P0 → P0 (단순화)

**E4: 데이터 통합 (F2)**
- S4-1 ~ S4-5: P0 (핵심 기능)
- S4-6 ~ S4-8: P0 (사용자 인터페이스)
- **단, 파일 크기 제한 대응**: 클라이언트 측 파싱으로 단순화

---

## 8. 단계별 작업 순서

### Phase 1: 기반 설정 (Week 1)
1. E0: 프로젝트 기반 설정
2. E1: 인증 및 권한 관리 (기본)
3. E2: 데이터베이스 및 스토리지 설정

**산출물**: 개발 환경 구축, 기본 인증, Firestore 스키마

### Phase 2: 핵심 데이터 관리 (Week 2)
1. E3: 학생 관리
2. E4: 데이터 통합 (기본)

**산출물**: 학생 관리 기능, 데이터 업로드 기능

### Phase 3: 리포트 생성 (Week 3-4)
1. E8: 리포트 템플릿 시스템
2. E5: 리포트 생성 (핵심)

**산출물**: 리포트 생성 기능 (PDF 생성 포함)

### Phase 4: 리포트 전송 및 대시보드 (Week 5)
1. E6: 리포트 전송
2. E7: 통합 대시보드

**산출물**: 리포트 전송 기능, 대시보드

### Phase 5: 비기능 요구사항 및 최적화 (Week 6)
1. E9: 비기능 요구사항 (NFR)
2. 성능 최적화
3. 보안 검증

**산출물**: 최적화된 시스템, 모니터링 설정

---

## 9. 다음 단계 작업 계획

### 9.1 즉시 수행할 작업

1. **Epic 상세 정의**
   - 각 Epic의 목적, 범위, 산출물 명확화
   - Epic 간 의존성 다이어그램 작성

2. **Story 상세 정의**
   - 각 Story의 사용자 시나리오 작성
   - Story별 Acceptance Criteria 정의

3. **Task 상세 정의**
   - 각 Story를 Task로 분해
   - Task별 Description, AC, Type, Dependencies, Output 정의
   - Task ID 체계 정의 (예: T-{TYPE}-{NUMBER})

### 9.2 태스크 추출 작업 순서

**Step 1**: Epic 목록 확정 및 문서화
- Epic ID, Name, Description, Priority, SRS 매핑

**Step 2**: 각 Epic별 Story 목록 생성
- Story ID, Name, Description, Epic, Priority

**Step 3**: 각 Story별 Task 목록 생성
- Task ID, Name, Description, AC, Type, Dependencies, Output

**Step 4**: 전체 의존성 그래프 생성
- Epic → Story → Task 의존성 시각화

**Step 5**: MVP 우선순위 재조정
- P0/P1/P2 분류 및 우선순위 정렬

**Step 6**: 최종 태스크 리스트 문서화
- 마크다운 형식으로 정리
- 의존성 그래프 포함

### 9.3 예상 산출물

1. **Epic 목록 문서** (`docs/13_Epic_List.md`)
2. **Story 목록 문서** (`docs/14_Story_List.md`)
3. **Task 목록 문서** (`docs/15_Task_List.md`)
4. **의존성 그래프 문서** (`docs/16_Dependency_Graph.md`)
5. **통합 태스크 리스트** (`docs/17_Integrated_Task_List.md`)

---

## 10. 리스크 및 대응 방안

### 10.1 기술적 리스크

| 리스크 | 영향도 | 대응 방안 |
|--------|--------|----------|
| Vercel 함수 실행 시간 제한 | High | 비동기 처리 또는 외부 서비스 사용 |
| PDF 생성 성능 | High | 클라이언트 측 생성 또는 외부 서비스 고려 |
| 파일 업로드 크기 제한 | Medium | 클라이언트 측 파싱으로 해결 |
| Firestore 쿼리 성능 | Medium | 인덱스 최적화, 페이지네이션 |

### 10.2 일정 리스크

| 리스크 | 영향도 | 대응 방안 |
|--------|--------|----------|
| 리포트 생성 기능 복잡도 | High | MVP 범위 축소 (비동기 처리로 단순화) |
| 데이터 통합 검증 로직 복잡도 | Medium | 검증 규칙 단순화, 단계적 확장 |

---

## 11. 체크리스트

### 11.1 계획 수립 완료 기준

- [ ] Epic 목록 정의 완료
- [ ] Epic별 Story 분해 전략 수립 완료
- [ ] Story별 Task 분해 전략 수립 완료
- [ ] 의존성 그래프 생성 전략 수립 완료
- [ ] MVP 우선순위 조정 기준 수립 완료
- [ ] 단계별 작업 순서 정의 완료

### 11.2 다음 단계 실행 준비

- [ ] Epic 상세 정의 시작
- [ ] Story 상세 정의 시작
- [ ] Task 상세 정의 시작

---

**작성자**: 테크 리드 / 프로젝트 매니저  
**검토일**: 2025-01-27  
**버전**: 1.0

