# SRS v2 vs v3 Final 비교 분석

**작성일**: 2025-01-27  
**비교 대상**: 
- v2: `01_SRS_urban-repeaters.md` (SRS-001, Revision 1.0)
- v3: `10_SRS_v3_final.md` (SRS-003-FINAL, Revision 3.0 Final)

---

## 1. 기술 스택/아키텍처 변경사항 (하이라이트)

| 항목 | v2 (원본) | v3 Final | 변경 이유 (MVP 관점) |
|------|-----------|----------|---------------------|
| **백엔드 프레임워크** | Java 17 + Spring Boot 3.x | **Node.js + Express.js** | MVP 단계에서 개발 속도 향상, 단일 언어 스택으로 복잡도 감소 |
| **데이터베이스** | MySQL 8.x (관계형 DB) | **Firebase Firestore (NoSQL)** | 서버리스 아키텍처에 적합, 관리 오버헤드 감소, 실시간 동기화 지원 |
| **인사이트 생성** | Python 3.10+ FastAPI + LangChain (LLM) | **Node.js 템플릿 기반 규칙 엔진** | LLM 비용 제거, 실행 시간 단축, 단일 언어 스택 유지 |
| **배포 플랫폼** | Docker + Kubernetes | **Vercel (서버리스)** | 인프라 관리 복잡도 제거, 자동 스케일링, 배포 간소화 |
| **파일 저장소** | 명시되지 않음 (일반 스토리지) | **Firebase Storage** | Vercel + Firestore 생태계 통합, CDN 자동 제공 |
| **시스템 간 통신** | REST API + gRPC (고성능 모듈) | **REST API만** | MVP 단계에서 gRPC 불필요, 단순화 |
| **로깅/모니터링** | OpenTelemetry + Grafana/Datadog | **기본 로깅 (Vercel/Firebase)** | APM 도구 비용 제거, 기본 로깅으로 충분 |
| **인증** | JWT 기반 | **JWT 또는 Firebase Authentication** | Firebase 생태계 활용 옵션 제공 |
| **데이터 모델** | 관계형 DB (테이블/컬럼) | **NoSQL 문서 DB (컬렉션/문서)** | Firestore 구조에 맞게 변경, 유연한 스키마 |

---

## 2. 기능 범위 변경사항

| 섹션/요구사항 ID | v2 내용 요약 | v3 내용 요약 | 변경 이유 (MVP 관점) |
|-----------------|-------------|-------------|---------------------|
| **1.2 Scope - F1** | PDF/PNG 형식 리포트 생성 | **PDF 형식만** | PNG 생성 기능 제거로 개발 시간 절감 |
| **1.2 Scope - F1** | 자동 인사이트 생성 (LLM) | **템플릿 기반 인사이트 생성 (LLM 없이)** | LLM 비용 및 복잡도 제거, 템플릿 기반으로 단순화 |
| **1.2 Scope - F2** | API 연동 및 파일 업로드 지원 | **CSV/Excel 파일 업로드만** | API 연동 복잡도 제거, 파일 업로드만으로 충분 |
| **1.2 Scope - F2** | 데이터 불일치 자동 감지 및 알림 | **제거 (Post-MVP)** | 복잡한 비즈니스 로직, MVP에서 불필요 |
| **1.2 Scope - F3** | 스케줄 기반 리포트 자동 생성 및 전송 | **수동 이메일 전송 버튼만** | 스케줄러, 재시도 로직 등 복잡도 제거 |
| **1.2 Scope - F3** | 이메일/SMS 전송 지원 | **이메일 전송만** | SMS 비용 및 복잡도 제거 |
| **1.2 Scope - F3** | 리포트 열람 여부 추적 | **제거 (Post-MVP)** | MVP에서 불필요한 기능 |
| **1.2 Scope - F3** | 개인화 메시지 자동 생성 | **제거 (Post-MVP)** | LLM 제거로 인한 자연스러운 제거 |
| **1.2 Scope - F4** | 위험 신호 자동 감지 및 알림 (전체 기능) | **전체 제거 (Post-MVP)** | 스케줄러, 점수 계산, 알림 시스템 등 복잡도 높음 |
| **1.2 Scope - 사용자 관리** | 원장/관리자, 학사 관리자, 운영 관리자 역할 구분 | **단일 관리자 역할** | 역할 기반 접근 제어 복잡도 제거 |
| **1.2 Scope - 시스템 설정** | 리포트 템플릿 기본 설정 (학원 로고, 색상) | **기본 템플릿만 (커스터마이징 제외)** | 커스터마이징 기능 제거로 개발 시간 절감 |

---

## 3. 기능 요구사항 변경사항

| 요구사항 ID | v2 내용 요약 | v3 내용 요약 | 변경 이유 (MVP 관점) |
|------------|-------------|-------------|---------------------|
| **REQ-FUNC-007** | 반 평균 데이터 실시간 계산 | **더미 데이터 또는 하드코딩된 평균값 사용** | 실시간 계산 복잡도 제거, MVP에서 충분 |
| **REQ-FUNC-008** | LLM 기반 인사이트 생성 | **템플릿 기반 규칙 엔진 (Node.js)** | LLM 비용 및 복잡도 제거, 실행 시간 단축 |
| **REQ-FUNC-010** | 리포트 PNG 생성 | **제거 (Post-MVP)** | PDF만으로 충분, 개발 시간 절감 |
| **REQ-FUNC-014** | 외부 시스템 API 연동 설정 | **제거 (Post-MVP)** | API 연동 복잡도 제거, 파일 업로드만 지원 |
| **REQ-FUNC-017** | 데이터 자동 동기화 (1시간마다) | **제거 (Post-MVP)** | 스케줄러 복잡도 제거, 수동 업로드만 지원 |
| **REQ-FUNC-020** | 데이터 불일치 자동 감지 | **제거 (Post-MVP)** | 복잡한 비즈니스 로직, MVP에서 불필요 |
| **REQ-FUNC-021** | 통합 대시보드 (그래프/차트 포함) | **테이블 형태만 (그래프 제외)** | 그래프/차트 라이브러리 복잡도 제거 |
| **REQ-FUNC-022~027** | 정기 리포트 자동 전송 관련 전체 | **제거 (Post-MVP)** | 스케줄러, 자동 생성, 개인화 메시지 등 복잡도 높음 |
| **REQ-FUNC-025** | 리포트 이메일 자동 전송 | **수동 이메일 전송 버튼 (REQ-FUNC-041 신규)** | 자동화 복잡도 제거, 수동 전송으로 단순화 |
| **REQ-FUNC-026** | 리포트 SMS 전송 | **제거 (Post-MVP)** | SMS 비용 및 복잡도 제거 |
| **REQ-FUNC-027** | 리포트 열람 여부 추적 | **제거 (Post-MVP)** | MVP에서 불필요한 기능 |
| **REQ-FUNC-029~035, 039** | 위험 신호 관련 전체 기능 | **전체 제거 (Post-MVP)** | 스케줄러, 점수 계산, 알림 시스템 등 복잡도 높음 |
| **REQ-FUNC-037** | 역할 기반 접근 제어 (3가지 역할) | **단일 관리자 역할만** | 역할 구분 복잡도 제거 |
| **REQ-FUNC-038** | 리포트 템플릿 설정 (학원 로고, 색상) | **기본 템플릿만 (커스터마이징 제외)** | 커스터마이징 기능 제거 |
| **REQ-FUNC-040** | 데이터 불일치 수정 인터페이스 | **제거 (Post-MVP)** | 데이터 불일치 감지 제거로 인한 자연스러운 제거 |
| **REQ-FUNC-041** | - | **수동 리포트 이메일 전송 (신규)** | 자동 전송 대신 수동 전송 기능 추가 |

---

## 4. 비기능 요구사항 변경사항

| 요구사항 ID | v2 내용 요약 | v3 내용 요약 | 변경 이유 (MVP 관점) |
|------------|-------------|-------------|---------------------|
| **REQ-NF-002** | 데이터 통합 성능: 시스템당 2분 이내 | **제거 (자동 동기화 제외)** | 자동 동기화 기능 제거로 인한 자연스러운 제거 |
| **REQ-NF-003** | 위험 신호 분석 성능: 학생 300명 기준 5분 이내 | **제거 (위험 신호 제외)** | 위험 신호 기능 제거로 인한 자연스러운 제거 |
| **REQ-NF-006** | 시스템 가동률: 99% 이상 | **95% 이상** | 고가용성 인프라 불필요, MVP 단계 완화 |
| **REQ-NF-008** | 리포트 생성 성공률: 95% 이상 | **90% 이상** | MVP 단계 완화, Vercel 함수 제한 고려 |
| **REQ-NF-009** | API 연동 재시도: 최대 3회 | **제거 (API 연동 제외)** | API 연동 기능 제거로 인한 자연스러운 제거 |
| **REQ-NF-010** | 리포트 전송 재시도: 최대 3회 | **제거 (자동 전송 제외)** | 자동 전송 기능 제거로 인한 자연스러운 제거 |
| **REQ-NF-011** | 동시 사용자 지원: 최대 100명 | **최대 20명** | MVP 단계 사용자 수 제한, Vercel 제한 고려 |
| **REQ-NF-021** | 모니터링: 시스템 상태 모니터링 (APM) | **제거 (APM 제외)** | APM 도구 비용 제거, 기본 로깅으로 충분 |
| **REQ-NF-024** | 파일 업로드 크기 제한: 최대 50MB | **최대 50MB (단, Vercel 함수 제한 고려)** | Vercel 함수 페이로드 제한(4.5MB) 고려하여 클라이언트 측 파싱 필요 |
| **REQ-NF-026** | 위험 신호 분석 대상 제한: 한 번에 최대 500명 | **제거 (위험 신호 제외)** | 위험 신호 기능 제거로 인한 자연스러운 제거 |
| **REQ-NF-027** | 스케줄 실행 최소 간격: 1시간 | **제거 (자동 스케줄링 제외)** | 자동 스케줄링 기능 제거로 인한 자연스러운 제거 |
| **REQ-NF-028** | 실행 시간 제한: 리포트 생성 30초, 데이터 동기화 2분, 위험 신호 분석 5분 | **리포트 생성 30초만 (단, Vercel 함수 제한 고려)** | 다른 기능 제거, Vercel 함수 실행 시간 제한(10초/60초) 고려 |
| **REQ-NF-033** | 리포트 생성 속도 달성률: 95% 이상 | **95% 이상 (단, 비동기 처리 고려)** | Vercel 함수 제한으로 인한 비동기 처리 필요성 명시 |

---

## 5. 데이터 모델 변경사항

| 항목 | v2 내용 요약 | v3 내용 요약 | 변경 이유 (MVP 관점) |
|------|-------------|-------------|---------------------|
| **데이터베이스 구조** | MySQL 관계형 DB (테이블/컬럼) | **Firestore NoSQL (컬렉션/문서)** | 서버리스 아키텍처에 적합, 유연한 스키마 |
| **데이터 모델 표현** | 테이블 스키마 (PK, FK, 데이터 타입) | **JSON 문서 구조** | Firestore 문서 구조에 맞게 변경 |
| **인덱스** | MySQL 인덱스 (명시되지 않음) | **Firestore 복합 인덱스 명시** | Firestore 쿼리 최적화를 위한 인덱스 필요 |
| **파일 저장** | 일반 파일 저장소 | **Firebase Storage** | Vercel + Firestore 생태계 통합 |
| **리포트 상태** | 기본 필드만 | **status 필드 추가 ("processing" \| "completed" \| "failed")** | 비동기 처리 지원을 위한 상태 관리 |

---

## 6. 외부 시스템 연동 변경사항

| 시스템명 | v2 내용 요약 | v3 내용 요약 | 변경 이유 (MVP 관점) |
|---------|-------------|-------------|---------------------|
| **출석 관리 앱** | REST API 또는 CSV/Excel 파일, 1시간마다 자동 동기화 | **CSV/Excel 파일 업로드만, 수동 업로드** | API 연동 복잡도 제거, 자동 동기화 제거 |
| **LMS** | REST API 또는 CSV/Excel 파일, 1시간마다 자동 동기화 | **CSV/Excel 파일 업로드만, 수동 업로드** | API 연동 복잡도 제거, 자동 동기화 제거 |
| **모의고사 플랫폼** | REST API 또는 CSV/Excel 파일, 1시간마다 자동 동기화 | **CSV/Excel 파일 업로드만, 수동 업로드** | API 연동 복잡도 제거, 자동 동기화 제거 |
| **결제 시스템** | REST API 또는 CSV/Excel 파일, 1시간마다 자동 동기화 | **CSV/Excel 파일 업로드만, 수동 업로드** | API 연동 복잡도 제거, 자동 동기화 제거 |
| **SMS 서버** | API 연동, 실시간 전송 | **제거 (Post-MVP)** | SMS 비용 및 복잡도 제거 |
| **Firebase Storage** | - | **신규 추가: 리포트 PDF 파일 저장** | Vercel + Firestore 생태계 통합 |

---

## 7. API 엔드포인트 변경사항

| 엔드포인트 | v2 내용 요약 | v3 내용 요약 | 변경 이유 (MVP 관점) |
|-----------|-------------|-------------|---------------------|
| **POST /api/integrations/setup** | 외부 시스템 API 연동 설정 | **제거** | API 연동 기능 제거 |
| **POST /api/integrations/sync** | 데이터 동기화 요청 | **제거** | 자동 동기화 기능 제거 |
| **GET /api/integrations/discrepancies** | 데이터 불일치 조회 | **제거** | 데이터 불일치 감지 기능 제거 |
| **POST /api/integrations/discrepancies/{id}/resolve** | 데이터 불일치 수정 | **제거** | 데이터 불일치 감지 기능 제거 |
| **POST /api/schedules/report** | 리포트 전송 스케줄 설정 | **제거** | 자동 스케줄링 기능 제거 |
| **GET /api/schedules/report** | 리포트 전송 스케줄 조회 | **제거** | 자동 스케줄링 기능 제거 |
| **GET /api/schedules/report/history** | 리포트 전송 이력 조회 | **GET /api/reports/delivery/history로 변경** | 스케줄 관련 기능 제거, 전송 이력만 유지 |
| **POST /api/risk/settings** | 위험 신호 감지 기준 설정 | **제거** | 위험 신호 기능 제거 |
| **GET /api/risk/students** | 주의 필요 학생 리스트 조회 | **제거** | 위험 신호 기능 제거 |
| **GET /api/risk/students/{studentId}** | 학생 위험 신호 상세 조회 | **제거** | 위험 신호 기능 제거 |
| **POST /api/risk/actions** | 위험 신호 조치 기록 | **제거** | 위험 신호 기능 제거 |
| **GET /api/risk/history** | 위험 신호 이력 조회 | **제거** | 위험 신호 기능 제거 |
| **POST /api/settings/template** | 리포트 템플릿 설정 (로고, 색상) | **제거** | 커스터마이징 기능 제거 |
| **POST /api/settings/notifications** | 알림 수신자 설정 | **제거** | 위험 신호 알림 기능 제거 |
| **POST /api/reports/{reportId}/send-email** | - | **신규 추가: 수동 리포트 이메일 전송** | 자동 전송 대신 수동 전송 기능 추가 |
| **POST /api/integrations/manual** | - | **신규 추가: 수동 데이터 입력** | 파일 업로드 외 수동 입력 옵션 제공 |

---

## 8. 시퀀스 다이어그램 변경사항

| 시퀀스 | v2 내용 요약 | v3 내용 요약 | 변경 이유 (MVP 관점) |
|--------|-------------|-------------|---------------------|
| **3.4.1 리포트 생성** | 일반 API 서버, 데이터베이스, 리포트 생성 서비스 | **Vercel 서버리스 함수, Firestore, Firebase Storage** | 기술 스택 변경 반영 |
| **3.4.2 데이터 자동 통합** | 스케줄러, 외부 시스템 API 호출, 데이터 불일치 감지 | **파일 업로드 및 통합 (API 호출 제거)** | 자동 동기화 및 불일치 감지 제거 |
| **3.4.3 정기 리포트 자동 전송** | 스케줄러 기반 자동 생성 및 전송 | **수동 리포트 이메일 전송** | 자동 스케줄링 제거, 수동 전송으로 변경 |
| **3.4.4 위험 신호 자동 감지** | 스케줄러 기반 자동 분석 및 알림 | **제거** | 위험 신호 기능 전체 제거 |

---

## 9. 추가된 섹션 (v3)

| 섹션 | 내용 | 추가 이유 |
|------|------|----------|
| **6.3 기술 스택별 구현 고려사항** | 복잡도 높은 요구사항 및 대안, 권장 구현 방식 | Vercel/Firestore 제약사항에 대한 구체적인 대안 제시 |
| **기술 스택 고려사항 컬럼** | 각 요구사항별 기술 스택 관련 주의사항 | 구현 시 주의할 점 명시 |

---

## 10. 주요 제약사항 및 대안 (v3 신규)

| 제약사항 | 문제점 | 대안 |
|---------|--------|------|
| **리포트 PDF 생성** | Vercel 함수 실행 시간 제한 (10초/60초) | 비동기 처리, 큐 시스템, 클라이언트 측 생성, HTML 리포트 제공 |
| **파일 업로드 크기** | Vercel 함수 페이로드 제한 (4.5MB) | 클라이언트 측 파싱, 청크 업로드, Firebase Storage 직접 업로드 |
| **동시 리포트 생성** | Vercel 동시 실행 제한 | 큐 시스템, 순차 처리, 동시 생성 제한 축소 (5건) |

---

## 11. 요약 통계

| 항목 | v2 | v3 Final | 변경 |
|------|----|----------|------|
| **기능 요구사항 수** | 40개 | 20개 | **20개 제거 (50% 감소)** |
| **비기능 요구사항 수** | 28개 | 24개 | **4개 제거** |
| **API 엔드포인트 수** | 22개 | 12개 | **10개 제거 (45% 감소)** |
| **기술 스택 언어 수** | 3개 (Java, Python, JavaScript) | **2개 (Node.js, JavaScript)** | **1개 언어 제거** |
| **인프라 복잡도** | 높음 (Kubernetes, Docker) | **낮음 (Vercel 서버리스)** | **인프라 관리 제거** |
| **예상 개발 시간** | 18주 | **7주** | **11주 절감 (61% 감소)** |
| **예상 운영 비용 (월)** | $191~625 | **$65~170** | **$126~455 절감 (66~73% 감소)** |

---

## 12. MVP 관점에서의 핵심 변경 원칙

1. **기술 스택 단순화**: 3개 언어 → 2개 언어, 마이크로서비스 → 모노리스
2. **자동화 기능 제거**: 스케줄러, 자동 동기화, 자동 알림 등 복잡도 높은 기능 제거
3. **고급 기능 제거**: LLM, APM, gRPC, Kubernetes 등 MVP에서 불필요한 기능 제거
4. **수동 프로세스로 대체**: 자동 전송 → 수동 전송, API 연동 → 파일 업로드
5. **서버리스 아키텍처 채택**: 인프라 관리 복잡도 제거, 자동 스케일링
6. **비용 최적화**: LLM API, APM 도구, Kubernetes 인프라 비용 제거

---

**작성자**: 시니어 프로덕트 매니저 / 시니어 개발자  
**작성일**: 2025-01-27

