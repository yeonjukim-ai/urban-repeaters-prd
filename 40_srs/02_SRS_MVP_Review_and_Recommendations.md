# SRS MVP 리뷰 및 조정 권장사항

**작성일**: 2025-01-27  
**리뷰 대상**: SRS v2.0 (01_SRS_urban-repeaters.md)  
**리뷰 관점**: 개발 난이도, 기술 스택 적절성, 운영/유지보수 비용

---

## 1. 빠른 리뷰 (제로샷 관점)

### 1.1 개발 난이도 분석

#### 🔴 **과도한 복잡도 요소**

1. **LangChain + FastAPI 기반 LLM 오케스트레이션 (C-TEC-004)**
   - **문제점**: MVP 단계에서 LLM을 통한 인사이트 생성은 과도한 복잡도
   - **영향**: 개발 시간 2~3주 추가, LLM API 비용, 에러 처리 복잡도 증가
   - **권장**: 템플릿 기반 규칙 엔진으로 대체 (예: "최근 4주간 출석률 20% 하락" → "출석률이 최근 4주간 20% 하락했습니다")

2. **Kubernetes 배포 (C-TEC-008)**
   - **문제점**: 초기 MVP에는 과도한 인프라 복잡도
   - **영향**: DevOps 설정 시간 1~2주 추가, 운영 복잡도 증가
   - **권장**: Docker Compose 또는 단일 서버 배포로 시작

3. **데이터 불일치 자동 감지 및 알림 (REQ-FUNC-020)**
   - **문제점**: 복잡한 비즈니스 로직, 엣지 케이스 다수
   - **영향**: 개발 시간 1~2주 추가, 테스트 복잡도 증가
   - **권장**: MVP에서는 수동 확인 UI만 제공, 자동 감지는 Post-MVP

4. **정기 리포트 자동 전송 (F3)**
   - **문제점**: 스케줄러, 재시도 로직, 전송 이력 관리 등 복잡도 높음
   - **영향**: 개발 시간 2~3주 추가
   - **권장**: MVP에서는 수동 전송만 지원 (이메일 첨부 전송 버튼)

5. **위험 신호 자동 감지 및 알림 (F4)**
   - **문제점**: 스케줄러, 점수 계산 로직, 알림 시스템 등 복잡도 높음
   - **영향**: 개발 시간 2~3주 추가
   - **권장**: MVP에서는 수동 조회만 지원 (위험 신호 리스트 조회 화면)

#### 🟡 **중간 복잡도 요소**

1. **다중 외부 시스템 연동 (F2)**
   - **현재**: 출석 앱, LMS, 모의고사 플랫폼, 결제 시스템 (4개)
   - **권장**: MVP에서는 CSV/Excel 업로드만 지원, API 연동은 Post-MVP

2. **역할 기반 접근 제어 (REQ-FUNC-037)**
   - **현재**: 원장/관리자, 학사 관리자, 운영 관리자 (3가지 역할)
   - **권장**: MVP에서는 단일 관리자 역할만 지원, 역할 구분은 Post-MVP

3. **PNG 리포트 생성 (REQ-FUNC-010)**
   - **권장**: MVP에서는 PDF만 지원, PNG는 Post-MVP

4. **OpenTelemetry + Grafana/Datadog (C-TEC-009)**
   - **권장**: MVP에서는 기본 로깅만 지원, APM은 Post-MVP

### 1.2 기술 스택 적절성 분석

#### ✅ **적절한 기술 스택**

- React 18+ (Vite): 프론트엔드 표준, 적절
- Java 17 + Spring Boot 3.x: 백엔드 표준, 적절
- MySQL 8.x: 관계형 DB, 적절
- JWT 인증: 표준 방식, 적절

#### ⚠️ **MVP 단계에서 단순화 권장**

1. **Python FastAPI + LangChain → Java Spring Boot 내 규칙 엔진**
   - 이유: 마이크로서비스 분리 불필요, 단일 언어 스택으로 개발 속도 향상
   - 대안: Spring Boot 내에서 템플릿 기반 인사이트 생성

2. **Kubernetes → Docker Compose 또는 단일 서버**
   - 이유: 초기에는 스케일링 불필요, 배포 복잡도 감소
   - 대안: Docker Compose로 로컬/개발 환경 구성, 프로덕션은 단일 서버 또는 관리형 서비스

3. **gRPC → REST API만 사용**
   - 이유: MVP 단계에서 고성능 통신 불필요
   - 대안: 모든 통신을 REST API로 통일

### 1.3 운영/유지보수 비용 분석

#### 🔴 **높은 운영 비용 요소**

1. **Kubernetes 클러스터 운영**
   - 월 비용: 약 $100~300 (관리형 K8s 서비스 기준)
   - 유지보수 시간: 주 2~4시간
   - **권장**: 단일 서버 또는 Docker Compose로 시작

2. **LLM API 비용 (Gemini/OpenAI)**
   - 월 비용: 리포트당 $0.01~0.05 가정 시, 1000건/월 = $10~50
   - **권장**: 템플릿 기반 규칙 엔진으로 대체 (비용 $0)

3. **APM 도구 (Grafana/Datadog)**
   - 월 비용: 약 $15~100 (사용량에 따라)
   - **권장**: 기본 로깅만 사용, APM은 Post-MVP

4. **SMS 서비스 연동**
   - 월 비용: 건당 $0.01~0.05 가정 시, 100건/월 = $1~5
   - **권장**: MVP에서는 이메일만 지원, SMS는 Post-MVP

5. **99% 가동률 요구사항 (REQ-NF-006)**
   - **문제점**: 고가용성 인프라 필요 (로드밸런서, 다중 서버 등)
   - **권장**: MVP에서는 95% 가동률 목표로 완화

#### 🟡 **중간 운영 비용 요소**

1. **이메일 서버 (SMTP)**
   - 월 비용: SendGrid/SES 등 $10~50
   - **필수**: 리포트 전송에 필요하므로 유지

2. **파일 저장소 (리포트 PDF)**
   - 월 비용: S3 등 $5~20 (사용량에 따라)
   - **필수**: 리포트 저장에 필요하므로 유지

---

## 2. MVP 기능 분류

### 2.1 🟢 **꼭 구현해야 하는 필수 기능**

#### **핵심 가치 전달 기능 (Core Value)**

1. **학생별 리포트 즉시 생성 (F1) - 핵심 기능**
   - ✅ 학생 검색 (REQ-FUNC-001)
   - ✅ 리포트 생성 요청 (REQ-FUNC-002)
   - ✅ 출석/학습시간/성적/과제 데이터 조회 (REQ-FUNC-003~006)
   - ✅ 리포트 PDF 생성 (REQ-FUNC-009) - PNG 제외
   - ✅ 리포트 다운로드 (REQ-FUNC-012)
   - ✅ 리포트 생성 이력 저장 (REQ-FUNC-013)

2. **기본 데이터 통합 (F2 - 단순화 버전)**
   - ✅ CSV/Excel 파일 업로드 (REQ-FUNC-015)
   - ✅ 수동 데이터 입력 (REQ-FUNC-016)
   - ✅ 데이터 검증 (REQ-FUNC-018)
   - ✅ 데이터 통합 (REQ-FUNC-019) - 학생 ID 기준
   - ✅ 기본 통합 대시보드 (REQ-FUNC-021) - 단순화 버전

3. **기본 인증 및 권한**
   - ✅ 사용자 로그인 (REQ-FUNC-036)
   - ⚠️ 역할 기반 접근 제어 (REQ-FUNC-037) - 단일 관리자 역할로 단순화

#### **기술 인프라 (필수)**

- ✅ JWT 인증
- ✅ HTTPS 통신
- ✅ 기본 로깅
- ✅ 데이터 암호화 (비밀번호, 개인정보)

### 2.2 🟡 **더미 데이터나 단순한 UI로 대체 가능한 요소**

1. **인사이트 자동 생성 (REQ-FUNC-008)**
   - **현재**: LLM 기반 동적 생성
   - **MVP 대안**: 템플릿 기반 규칙 엔진
     - 예: "출석률이 최근 4주간 20% 이상 하락했습니다"
     - 예: "학습 시간이 목표 대비 30% 미만입니다"
   - **구현 시간**: 1주 → 2일로 단축

2. **반 평균 데이터 계산 (REQ-FUNC-007)**
   - **현재**: 실시간 계산
   - **MVP 대안**: 더미 데이터 또는 하드코딩된 평균값
   - **구현 시간**: 3일 → 1일로 단축

3. **통합 대시보드 (REQ-FUNC-021)**
   - **현재**: 복잡한 그래프 및 차트
   - **MVP 대안**: 단순 테이블 형태로 데이터 표시
   - **구현 시간**: 1주 → 2일로 단축

4. **리포트 템플릿 설정 (REQ-FUNC-038)**
   - **현재**: 학원 로고, 색상 커스터마이징
   - **MVP 대안**: 기본 템플릿만 사용, 커스터마이징은 Post-MVP
   - **구현 시간**: 1주 → 제거

### 2.3 🔴 **아예 다음 단계로 미뤄도 될 요소**

#### **자동화 기능 (Post-MVP)**

1. **정기 리포트 자동 전송 (F3) - 전체 기능**
   - REQ-FUNC-022: 리포트 전송 스케줄 설정
   - REQ-FUNC-023: 정기 리포트 자동 생성
   - REQ-FUNC-024: 개인화 메시지 생성
   - REQ-FUNC-025: 리포트 이메일 전송 (자동)
   - REQ-FUNC-026: 리포트 SMS 전송
   - REQ-FUNC-027: 리포트 열람 여부 추적
   - REQ-FUNC-028: 리포트 전송 이력 저장
   - **MVP 대안**: 수동 이메일 전송 버튼만 제공 (PDF 첨부)

2. **위험 신호 자동 감지 및 알림 (F4) - 전체 기능**
   - REQ-FUNC-029: 위험 신호 감지 기준 설정
   - REQ-FUNC-030: 위험 신호 자동 분석
   - REQ-FUNC-031: 위험도 점수 계산
   - REQ-FUNC-032: 위험 신호 감지 결과 저장
   - REQ-FUNC-033: 위험 신호 알림 전송
   - REQ-FUNC-034: 주의 필요 학생 리스트 표시
   - REQ-FUNC-035: 조치 기록 저장
   - REQ-FUNC-039: 알림 수신자 설정
   - **MVP 대안**: 수동 조회만 지원 (위험 신호 리스트 화면, 자동 감지 없음)

3. **데이터 불일치 자동 감지 (REQ-FUNC-020)**
   - **MVP 대안**: 수동 확인 UI만 제공

4. **외부 시스템 API 연동 (REQ-FUNC-014, REQ-FUNC-017)**
   - **MVP 대안**: CSV/Excel 업로드만 지원

#### **고급 기능 (Post-MVP)**

1. **PNG 리포트 생성 (REQ-FUNC-010)**
2. **데이터 불일치 수정 인터페이스 (REQ-FUNC-040)**
3. **OpenTelemetry + APM (C-TEC-009)**
4. **gRPC 통신 (C-TEC-006)**
5. **Kubernetes 배포 (C-TEC-008)**

---

## 3. MVP 기준에 맞게 조정된 SRS v3 개요

### 3.1 MVP 범위 재정의

#### **In-Scope (MVP v3)**

1. **학생별 종합 성과 리포트 즉시 생성 (F1 - 단순화)**
   - 학생 검색 및 리포트 생성
   - 출석률, 학습 시간, 모의고사 성적, 과제 완료도 통합 리포트
   - **PDF 형식만** 리포트 생성 (30초 이내)
   - **템플릿 기반 인사이트 생성** (최대 3개, LLM 없이)

2. **기본 데이터 통합 (F2 - 단순화)**
   - **CSV/Excel 파일 업로드만** 지원 (API 연동 제외)
   - 수동 데이터 입력 인터페이스
   - 데이터 검증 및 통합
   - **단순 통합 대시보드** (테이블 형태)

3. **수동 리포트 전송 (F3 - 단순화)**
   - 리포트 생성 후 **수동 이메일 전송 버튼** 제공
   - 이메일 첨부 전송 (자동 스케줄링 제외)
   - 리포트 전송 이력 저장 (기본)

4. **기본 사용자 관리**
   - 사용자 로그인/로그아웃
   - **단일 관리자 역할** (역할 구분 제외)

5. **기본 시스템 설정**
   - 리포트 템플릿 기본 설정 (커스터마이징 제외)

#### **Out-of-Scope (Post-MVP)**

1. **자동화 기능**
   - 정기 리포트 자동 전송 (스케줄 기반)
   - 위험 신호 자동 감지 및 알림
   - 데이터 불일치 자동 감지
   - 외부 시스템 API 자동 동기화

2. **고급 기능**
   - PNG 리포트 생성
   - 역할 기반 접근 제어 (다중 역할)
   - 리포트 템플릿 고급 커스터마이징
   - SMS 전송
   - 리포트 열람 여부 추적

3. **인프라/운영**
   - Kubernetes 배포
   - OpenTelemetry + APM
   - gRPC 통신
   - LLM 기반 인사이트 생성

### 3.2 기술 스택 조정 (MVP v3)

#### **기술 제약사항 변경**

| 항목 | SRS v2 | SRS v3 (MVP) | 이유 |
|------|--------|--------------|------|
| **프론트엔드** | React 18+ (Vite) | ✅ 동일 | 적절 |
| **백엔드** | Java 17 + Spring Boot 3.x | ✅ 동일 | 적절 |
| **데이터베이스** | MySQL 8.x | ✅ 동일 | 적절 |
| **인사이트 생성** | Python FastAPI + LangChain | ❌ → **Java Spring Boot 내 규칙 엔진** | 단순화, 단일 언어 스택 |
| **배포** | Kubernetes | ❌ → **Docker Compose / 단일 서버** | 단순화 |
| **시스템 간 통신** | REST API + gRPC | ❌ → **REST API만** | 단순화 |
| **모니터링** | OpenTelemetry + Grafana/Datadog | ❌ → **기본 로깅만** | 단순화 |
| **인증** | JWT | ✅ 동일 | 적절 |

### 3.3 기능 요구사항 조정 (MVP v3)

#### **제거된 요구사항 (Post-MVP로 이동)**

- REQ-FUNC-010: 리포트 PNG 생성
- REQ-FUNC-014: 외부 시스템 API 연동 설정
- REQ-FUNC-017: 데이터 자동 동기화
- REQ-FUNC-020: 데이터 불일치 자동 감지
- REQ-FUNC-022~028: 정기 리포트 자동 전송 관련 전체
- REQ-FUNC-029~035, 039: 위험 신호 자동 감지 관련 전체
- REQ-FUNC-040: 데이터 불일치 수정 인터페이스

#### **단순화된 요구사항**

- **REQ-FUNC-007 (반 평균 데이터 계산)**
  - v2: 실시간 계산
  - v3: 더미 데이터 또는 하드코딩된 평균값

- **REQ-FUNC-008 (인사이트 자동 생성)**
  - v2: LLM 기반 동적 생성
  - v3: 템플릿 기반 규칙 엔진 (예: "출석률이 최근 4주간 20% 이상 하락했습니다")

- **REQ-FUNC-021 (통합 대시보드)**
  - v2: 복잡한 그래프 및 차트
  - v3: 단순 테이블 형태

- **REQ-FUNC-037 (역할 기반 접근 제어)**
  - v2: 3가지 역할 (원장/관리자, 학사 관리자, 운영 관리자)
  - v3: 단일 관리자 역할만

- **REQ-FUNC-038 (리포트 템플릿 설정)**
  - v2: 학원 로고, 색상 커스터마이징
  - v3: 기본 템플릿만 사용

#### **새로 추가된 요구사항 (단순화 버전)**

- **REQ-FUNC-041: 수동 리포트 이메일 전송**
  - 리포트 생성 후 수동으로 이메일 전송 버튼 클릭
  - PDF 첨부하여 전송
  - 전송 이력 저장

### 3.4 비기능 요구사항 조정 (MVP v3)

#### **완화된 요구사항**

| 항목 | SRS v2 | SRS v3 (MVP) | 이유 |
|------|--------|--------------|------|
| **시스템 가동률** | 99% 이상 | **95% 이상** | 고가용성 인프라 불필요 |
| **동시 사용자** | 최대 100명 | **최대 20명** | 초기 사용자 수 제한 |
| **리포트 생성 성공률** | 95% 이상 | **90% 이상** | MVP 단계 완화 |

#### **제거된 요구사항**

- REQ-NF-002: 데이터 통합 성능 (자동 동기화 제외)
- REQ-NF-003: 위험 신호 분석 성능 (자동 분석 제외)
- REQ-NF-009: API 연동 재시도 (API 연동 제외)
- REQ-NF-010: 리포트 전송 재시도 (자동 전송 제외)

### 3.5 개발 시간 추정 (MVP v3)

#### **개발 시간 비교**

| 기능 영역 | SRS v2 예상 | SRS v3 (MVP) 예상 | 절감 |
|-----------|-------------|-------------------|------|
| **F1: 리포트 생성** | 4주 | 3주 | 1주 |
| **F2: 데이터 통합** | 3주 | 1.5주 | 1.5주 |
| **F3: 리포트 전송** | 3주 | 0.5주 | 2.5주 |
| **F4: 위험 신호** | 3주 | 0주 | 3주 |
| **인증/권한** | 1주 | 0.5주 | 0.5주 |
| **인프라/배포** | 2주 | 0.5주 | 1.5주 |
| **테스트** | 2주 | 1주 | 1주 |
| **총계** | **18주** | **7주** | **11주 절감** |

### 3.6 운영 비용 추정 (MVP v3)

#### **월 운영 비용 비교**

| 항목 | SRS v2 예상 | SRS v3 (MVP) 예상 | 절감 |
|------|-------------|-------------------|------|
| **클라우드 인프라** | $150~400 | $50~100 | $100~300 |
| **LLM API** | $10~50 | $0 | $10~50 |
| **APM 도구** | $15~100 | $0 | $15~100 |
| **SMS 서비스** | $1~5 | $0 | $1~5 |
| **이메일 서비스** | $10~50 | $10~50 | $0 |
| **파일 저장소** | $5~20 | $5~20 | $0 |
| **총계** | **$191~625** | **$65~170** | **$126~455 절감** |

---

## 4. 결론 및 권장사항

### 4.1 핵심 권장사항

1. **MVP는 "리포트 즉시 생성"에 집중**
   - 가장 핵심 가치 전달 기능
   - 나머지 기능은 Post-MVP로 이동

2. **기술 스택 단순화**
   - Python FastAPI + LangChain 제거 → Java Spring Boot 내 규칙 엔진
   - Kubernetes 제거 → Docker Compose / 단일 서버
   - gRPC 제거 → REST API만 사용

3. **자동화 기능 제거**
   - 정기 리포트 자동 전송 → 수동 전송 버튼
   - 위험 신호 자동 감지 → 수동 조회만
   - 데이터 자동 동기화 → 수동 업로드만

4. **운영 비용 절감**
   - LLM API 비용 제거
   - APM 도구 제거
   - Kubernetes 인프라 제거

### 4.2 MVP v3 개발 우선순위

1. **Phase 1 (2주)**: 기본 인프라 + 인증
   - Docker Compose 설정
   - Spring Boot 프로젝트 구성
   - JWT 인증 구현
   - 기본 로깅

2. **Phase 2 (2주)**: 데이터 통합 (단순화)
   - CSV/Excel 업로드
   - 수동 데이터 입력
   - 데이터 검증 및 저장
   - 기본 대시보드 (테이블)

3. **Phase 3 (2주)**: 리포트 생성 (핵심)
   - 학생 검색
   - 데이터 조회 및 집계
   - 템플릿 기반 인사이트 생성
   - PDF 리포트 생성

4. **Phase 4 (1주)**: 리포트 전송 (단순화)
   - 수동 이메일 전송 버튼
   - 전송 이력 저장
   - 테스트 및 버그 수정

### 4.3 Post-MVP 로드맵 제안

1. **v1.1 (2주)**: 정기 리포트 자동 전송
2. **v1.2 (2주)**: 위험 신호 자동 감지
3. **v1.3 (1주)**: 외부 시스템 API 연동
4. **v2.0 (3주)**: 역할 기반 접근 제어, 고급 커스터마이징

---

**작성자**: 시니어 프로덕트 매니저 / 시니어 개발자  
**검토일**: 2025-01-27

